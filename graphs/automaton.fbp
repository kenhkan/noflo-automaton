EXPORT=SETUP.IN:IN
EXPORT=RUN.OUT:OUT
EXPORT=SETUP.ERROR:ERROR

# The looper

Setup(automaton/Setup) OUT -> IN Iterate(automaton/Iterate) OUT -> IN RunActions(automaton/RunActions) OUT -> IN TestEffects(automaton/TestEffects)
TestEffects() ERROR -> IN RunActions()
TestEffects() OUT -> IN Iterate()

# Run on exit

RunActions() EXIT -> IN Run(automaton/Run)
TestEffects() EXIT -> IN Run()
Iterate() EXIT -> IN Run()
